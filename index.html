<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

  <title>Frontend Mentor | Todo app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <link rel="stylesheet" href="./css/styles.css">

</head>

<body>

  <div class="app">
    <section class="header--app">
      <div class="title">
        <h1>TODO</h1>
        <p>
          <span id="icon--theme" class="icon--theme" onclick="changeTheme()">

          </span>
        </p>
      </div>

      <div class="todo--content">

        <div class="todo--add">
          <div class="input--group">
            <div class="round--icon">
            </div>
            <input type="text" id="todo" class="input" placeholder="Crete a new todo...">
          </div>
        </div>

        <div class="todo--list">
          <span id="todos">




          </span>
          <div class="todo--actions">
            <div>
              <span id="counter">0</span> items left
            </div>
            <div class="filtro enlinea">
              <a class="actions primero filtros f-active" href="#" data-action="all-todo" onclick="setNav(this)">
                All
              </a>
              <a class="actions filtros" href="#" data-action="active-todo" onclick="setNav(this)">
                Active
              </a>
              <a class="actions filtros" href="#" data-action="completed-todo" onclick="setNav(this)">
                Completed
              </a>
            </div>
            <div>
              <a class="actions" href="#" onclick="deleteCompleted()">
                Clear Completed
              </a>
            </div>
          </div>


        </div>
        <div class="fueralinea">
          <a class="actions primero filtros f-active" href="#" data-action="all-todo" onclick="setNav(this)">
            All
          </a>
          <a class="actions filtros" href="#" data-action="active-todo" onclick="setNav(this)">
            Active
          </a>
          <a class="actions filtros" href="#" data-action="completed-todo" onclick="setNav(this)">
            Completed
          </a>
        </div>
      </div>
    </section>
  </div>
  <script src="./js/todo.js"></script>
  <script>

    document.addEventListener("DOMContentLoaded", () => {
      let totalActivos = totalTodo(true, todoList);
      console.log(totalActivos);
      const input = document.querySelector("#todo");
      input.addEventListener("change", () => {
        let item = newTodoItem(todoList, itemTemplate, input.value);
        AddNoteToStack(todoList, item);
        input.value = "";

        render(todoList)

      })
    })
    function deleteCompleted() {
      deleteAllComplpeted(todoList);
    }
    function setNav(elemento) {
      let ele = elemento;
      document.querySelectorAll('.filtros').forEach(ele => {
        ele.classList.remove("f-active");
      })
      switch (ele.dataset.action) {
        case 'all-todo':
          ele.classList.add("f-active");
          setTimeout(() => render(todoList), 300);

          break;
        case 'active-todo':
          ele.classList.add("f-active");
          setTimeout(() => getActive(todoList), 300);

          break;

        case 'completed-todo':
          ele.classList.add("f-active");
          setTimeout(() => getCompleted(todoList), 300);
          break;
        default:
          break;
      }
    }

    function changeTheme() {
      const content = document.querySelector(".app");
      content.classList.toggle("dark")

    }

  </script>
</body>

</html>